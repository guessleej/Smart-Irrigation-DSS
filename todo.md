# 農業灌溉智慧決策支援系統 - 功能開發清單

## 階段一：資料庫與基礎架構
- [x] 設計並建立資料庫 schema（水情、氣象、灌區設施）
- [x] 執行資料庫遷移 (pnpm db:push)
- [x] 建立資料庫查詢 helpers

## 階段二：API 介接服務
- [x] 農業資料開放平臺 API 介接（農業氣象、雨量站）
- [x] 水利署防災資訊服務網 API 介接（水庫、水位、雨量）
- [x] 資料清洗與格式轉換處理
- [x] 模擬資料生成器（開發測試用）
- [ ] 排程任務設定（定期資料抓取）

## 階段三：後端 tRPC 路由
- [x] 水情資料查詢 API
- [x] 氣象資料查詢 API
- [x] 灌區設施資料 API
- [x] 風險評估計算 API
- [x] 配水模擬 API
- [x] 使用者權限管理（admin/user 角色）
- [x] 資料同步日誌 API

## 階段四：前端決策儀表板
- [x] Dashboard 主介面佈局設計
- [x] 即時水情監控面板
- [x] 降雨情勢分析圖表
- [x] 水庫豐枯狀態視覺化
- [x] 統計圖表元件（Recharts）

## 階段五：地圖視覺化模組
- [x] 整合地圖視覺化元件
- [x] 灌溉系統設施標示
- [x] 水情資訊圖層疊加
- [x] 地圖互動功能（點擊、篩選）
- [ ] 整合 Google Maps 3D 功能（進階）

## 階段六：風險評估與配水模擬
- [x] 灌溉缺水風險評估模型
- [x] 動態配水模擬模組
- [x] 模擬結果視覺化呈現

## 階段七：測試與驗證
- [x] 後端單元測試 (Vitest)
- [x] API 整合測試
- [ ] 前端元件測試

## 其他功能頁面
- [x] 首頁 Landing Page
- [x] 水庫即時監測頁面
- [x] 缺水風險評估頁面
- [x] 動態配水模擬頁面
- [x] 地圖視覺化頁面
- [x] 灌區管理頁面


## 階段八：水庫即時監控 API 串接
- [x] 測試水利署水庫即時水情 API
- [x] 更新 apiService.ts 串接真實水庫資料
- [x] 更新水庫監測頁面顯示即時資料
- [x] 更新 Dashboard 顯示即時水庫統計
- [x] 測試並驗證 API 串接功能

- [x] 串接曾文水庫即時水情 API (598befe9)
- [x] 串接阿公店水庫即時水情 API (ecc4ce8d)
- [x] 串接石門水庫即時水情 API (c8d54ba7)- [x] 串接翡翠水庫即時水情 API (翡翠專線)sui)
- [x] 串接水庫水情資料 API (5b849586)
- [ ] 串接水庫水情資料 API (2be9044c)
- [x] 串接水庫每日營運狀況 API (50C8256D)
- [x] 串接水庫水位資料 API (708a43b0)


## 階段九：氣象資料 API 串接
- [x] 分析氣象資料 API 文件
- [ ] 串接農業氣象站資料 API
- [ ] 串接雨量站即時資料 API
- [ ] 更新後端路由處理氣象資料
- [ ] 更新前端降雨情勢分析頁面
- [ ] 整合水庫與氣象資料到 Dashboard


## 階段十：GitHub 上傳
- [x] 建立 README.md 專案說明文件
- [x] 建立 LICENSE 授權文件
- [x] 建立 CONTRIBUTING.md 貢獻指南
- [x] 建立 .gitignore 檔案
- [x] 克隆 GitHub 倉庫
- [x] 複製專案檔案到倉庫
- [x] 推送到 GitHub
- [x] 驗證上傳結果


## 階段十一：交付文件製作
- [x] 專案管理計畫書
- [x] 需求規格書
- [x] 系統測試報告書
- [x] 使用者手冊
- [x] 系統管理手冊
- [x] 程式規格書
- [x] 應用系統使用套件調查表


## 階段十二：動態配水模擬功能修復
- [x] 檢查配水模擬後端 API 問題
- [x] 修復模擬計算邏輯
- [x] 修復前端頁面互動- [x] 測試並驗證修復結果


## 階段十三：歷史模擬記錄刪除功能
- [x] 新增後端刪除模擬記錄 API
- [x] 新增資料庫刪除函數
- [x] 更新前端頁面加入刪除按鈕
- [x] 加入刪除確認對話框
- [x] 測試驗證刪除功能
